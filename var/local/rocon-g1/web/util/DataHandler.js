var _=require("underscore"),assert=require("assert"),fs=require("fs"),DataHandler=function(a){assert(a),this.dataPath=a,_.bindAll(this)};DataHandler.prototype.read=function(a){return fs.existsSync(this.dataPath+a+".json")?JSON.parse(fs.readFileSync(this.dataPath+a+".json")):[]},DataHandler.prototype.write=function(a,b,c){fs.writeFile(this.dataPath+a+".json",JSON.stringify(b,null,2),function(a){return c(a?"error":null)})},module.exports=DataHandler;