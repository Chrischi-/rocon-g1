var _=require("underscore"),util=require("util"),ValueCache=function(a){_.bindAll(this),this._cache={},a.on("ValueReceived",this._handleValueReceived)};ValueCache.prototype.get=function(a,b){var c=this._createKey(a);return _.has(this._cache,c)&&!_.isNull(this._cache[c])?this._cache[c]:b},ValueCache.prototype.getAll=function(){return this._cache},ValueCache.prototype._handleValueReceived=function(a,b){this._cache[this._createKey(a)]=b},ValueCache.prototype._createKey=function(a){return util.format("%s.%s",a.device,a.name)},module.exports=ValueCache;