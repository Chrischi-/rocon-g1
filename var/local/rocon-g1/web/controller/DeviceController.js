var _=require("underscore"),util=require("util"),DeviceController=function(a){_.bindAll(this),this._devices={direct:!0,water:!0},a.on("ValueReceived",this._handleMessageReceived)};DeviceController.prototype.list=function(a,b){var c={};_.each(_.keys(this._devices),function(a){c[a]={settingUrl:util.format("setting/%s",a),statusUrl:util.format("status/%s",a)}}),b.json(c)},DeviceController.prototype._handleMessageReceived=function(a){-1!=a.device.indexOf("HC")&&(this._devices[a.device]=!0)},module.exports=DeviceController;