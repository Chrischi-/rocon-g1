var _=require("underscore"),ParameterValidator=function(){};ParameterValidator.prototype.validate=function(a,b,c){a.writeable?"float"==a.type?this._validateNumber(a,b,c):"enum"==a.type?this._validateEnum(a,b,c):"int"==a.type?this._validateInt(a,b,c):"timeRange"==a.type?this._validateTimeRange(a,b,c):c(!0):c(!1)},ParameterValidator.prototype._validateEnum=function(a,b,c){_.has(a,"in")&&-1==_.indexOf(a["in"],b)?c(!1):this._validateNumber(a,b,c)},ParameterValidator.prototype._validateInt=function(a,b,c){this._validateNumber(a,b,c)},ParameterValidator.prototype._validateNumber=function(a,b,c){b=parseFloat(b),c(_.isNaN(b)?!1:_.has(a,"min")&&b<parseFloat(a.min)?!1:_.has(a,"max")&&b>parseFloat(a.max)?!1:!0)},ParameterValidator.prototype._validateTimeRange=function(a,b,c){if(!b.match(/[0-9]{2}[:][0-9]{2}/))return void c(!1);var d=b.split("-")[0],e=b.split("-")[1],f=d.split(":")[0],g=e.split(":")[0],h=d.split(":")[1],i=e.split(":")[1];c((g>24||24==g&&i>0||f>g||h>=i&&f>=g||h>"59"||i>"59")&&"00:00-00:00"!=b?!1:!0)},module.exports=ParameterValidator;