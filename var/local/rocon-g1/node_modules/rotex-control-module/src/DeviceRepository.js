var _=require("underscore");DeviceModel=require("../src/DeviceModel.js");var DeviceRepository=function(a){this.devices=_.map(a.heatGenerators.concat(a.heatingCircuits.concat(a.heatingCircuitModules)),function(a){return new DeviceModel({name:a.name,set:a.set,get:a.get,answer:a.answer})})};DeviceRepository.prototype.findBy=function(a){return!a||_.isEmpty(a)?this.devices:_.where(this.devices,a)},module.exports=DeviceRepository;